## **ğŸ§  íšŒê³ **

ì˜¤ëŠ˜ì€ reducer / effect / memoë¥¼ ë°°ìš°ë©° Reactê°€ ìƒíƒœ ë³€í™”, ë Œë”ë§ íƒ€ì´ë°, ì„±ëŠ¥ ìµœì í™”ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” êµ¬ì¡°ë¼ëŠ” ê±¸ ì´í•´í•˜ê²Œ ë˜ì—ˆë‹¤. useReducerëŠ” ë³µì¡í•œ ìƒíƒœ ë¡œì§ì„ í•œê³³ì— ëª¨ì•„ íë¦„ì´ ëª…í™•í•´ì¡Œê³ , useEffectëŠ” ë Œë”ë§ê³¼ ë³„ë„ë¡œ ì‹¤í–‰ë˜ëŠ” ì‘ì—…ë“¤ì˜ ìœ„ì¹˜ë¥¼ ì¡ì•„ì£¼ëŠ” ì—­í• ì´ë¼ëŠ” ì ì´ íŠ¹íˆ ë„ì›€ì´ ëë‹¤. ë˜í•œ memoë¥¼ í†µí•´ í•„ìš”í•  ë•Œë§Œ ì—°ì‚°ì„ ì¬ì‚¬ìš©í•´ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì¤„ì´ëŠ” ë°©ì‹ì„ ì•Œê²Œ ë˜ì—ˆê³ , ìµœì í™”ëŠ” ìƒí™©ì— ë§ê²Œ ì‹ ì¤‘í•˜ê²Œ ì¨ì•¼ í•œë‹¤ëŠ” ê²ƒë„ ë°°ì› ë‹¤. ì „ì²´ì ìœ¼ë¡œ Reactê°€ ì™œ â€œë Œë”ë§ ì¤‘ì‹¬ êµ¬ì¡°â€ë¼ê³  ë¶ˆë¦¬ëŠ”ì§€ ê°ì´ ì¡íŒ í•˜ë£¨ì˜€ë‹¤.

## **ğŸª½ ì˜¤ëŠ˜ì˜ ë‹¤ì§**

ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ ë°œíŒìœ¼ë¡œ, React ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ í•­ìƒ â€œì´ ë¡œì§ì€ ì–´ë””ì—ì„œ, ì–¸ì œ ì‹¤í–‰ë¼ì•¼ í•˜ëŠ”ê°€?â€ë¥¼ ë¨¼ì € ìƒê°í•˜ëŠ” ê°œë°œìê°€ ë˜ì.  
ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ì¤„ì´ê³ , ìƒíƒœ íë¦„ì„ ë” ëª…í™•í•˜ê²Œ ë§Œë“¤ë©°, ì´í•´í•œ ê°œë…ì„ ì‹¤ì œ ì½”ë“œì— ìì—°ìŠ¤ëŸ½ê²Œ ë…¹ì—¬ë‚¼ ìˆ˜ ìˆë„ë¡ ì°¨ê·¼ì°¨ê·¼ ìŒ“ì•„ê°€ì.

---

## **ğŸ“ Today I Learned**

### **1ï¸âƒ£Â  Reducer**

#### **1\. ì •ì˜**

\- ì—¬ëŸ¬ ìƒíƒœ ë³€í™” ë¡œì§ì„ í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œ ëª¨ì•„, ì•¡ì…˜ì´ë¼ëŠ” ì…ë ¥ì— ë”°ë¼ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜

\- ìƒíƒœ(state)ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ê·œì¹™ì„ ì •ì˜í•œ í•¨ìˆ˜

\- (state, action) => newState

\- í˜„ì¬ ìƒíƒœ(state)ì™€ ë¬´ì—‡ì„ í• ì§€ ë‚˜íƒ€ë‚´ëŠ” actionì„ ë°›ì•„ì„œ, ìƒˆë¡œìš´ ìƒíƒœ(newState) ë°˜í™˜

\- Reducer ìì²´ëŠ” ìƒíƒœë¥¼ ì§ì ‘ ë°”ê¾¸ì§€ ì•Šê³ , ì–¸ì œë‚˜ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë§Œë“¤ì–´ ë°˜í™˜í•¨

#### **2\. ì‚¬ìš© ì´ìœ **

\- ë³µì¡í•œ ìƒíƒœ ë³€ê²½ ë¡œì§ì„ í•œ ê³³ì— ëª¨ì•„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë„êµ¬

\- ìƒíƒœê°€ ì—¬ëŸ¬ ë°©ì‹ìœ¼ë¡œ ë³€í•˜ëŠ” ì•±ì—ì„œëŠ” useStateë§Œìœ¼ë¡œëŠ” ë¡œì§ì´ í©ì–´ì§€ê³  ê´€ë¦¬í•˜ê¸° ì–´ë ¤ì›€

ğŸ‘‰ğŸ» ReducerëŠ” ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ë©° ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìƒíƒœ ë³€ê²½ì„ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ë¨

**(1) Stateì˜ í•œê³„**

\- ì´ˆê¸°ì—ëŠ” ê°„ë‹¨í•œ ìƒíƒœë¼ useStateë§Œìœ¼ë¡œ ì¶©ë¶„í•¨ -> ê¸°ëŠ¥ì´ ì¡°ê¸ˆë§Œ ë³µì¡í•´ì§€ë©´ ë¬¸ì œ ë°œìƒ

\- ì—¬ëŸ¬ ê°œì˜ ìƒíƒœ ë³€ê²½ í•¨ìˆ˜ë¥¼ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ê´€ë¦¬í•˜ë©´

ğŸ‘‰ğŸ» ë¡œì§ì´ ì—¬ê¸°ì €ê¸° í©ì–´ì§

ğŸ‘‰ğŸ» ì–´ë–¤ í•¨ìˆ˜ê°€ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì°¾ê¸° ì–´ë ¤ì›€

ğŸ‘‰ğŸ» ê¸°ëŠ¥ì´ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ë²„ê·¸ ë°œìƒ ê°€ëŠ¥ì„± ì¦ê°€

ğŸ‘‰ğŸ» ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

\=> ìƒíƒœê°€ ì»¤ì§ˆìˆ˜ë¡ useStateë§Œìœ¼ë¡œ êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ê¸° ì–´ë ¤ì›Œì§

**(2) Reducerì˜ ì—­í• **

\- ReducerëŠ” ìƒíƒœê°€ ì–´ë–»ê²Œ ë°”ë€Œì–´ì•¼ í•˜ëŠ”ì§€(ê·œì¹™)ë¥¼ í•œ ê³³ì— ëª¨ì•„ ë‘ëŠ” í•¨ìˆ˜

\- ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë‹¨ìˆœíˆ ë¬´ì—‡ì„ í•˜ê³  ì‹¶ì€ì§€ë§Œ ì „ë‹¬í•¨

ğŸ‘‰ğŸ» ì»´í¬ë„ŒíŠ¸: ë¬´ìŠ¨ ì¼ì„ í• ì§€ ë§í•¨

ğŸ‘‰ğŸ» Reducer: ê·¸ ì¼ì„ ì–´ë–»ê²Œ ìˆ˜í–‰í• ì§€ ì²˜ë¦¬

\- ë¡œì§ì„ ê¹”ë”í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¦

**(3) Reducerì˜ ì¥ì **

\- ìƒíƒœ ë³€ê²½ ë¡œì§ì´ í•œ ê³³ì—ì„œ ê´€ë¦¬ë¨

ğŸ‘‰ğŸ» ì—¬ëŸ¬ ê³³ì— í©ì–´ì§„ ì½”ë“œë¥¼ í•˜ë‚˜ì˜ reducer í•¨ìˆ˜ë¡œ ì •ë¦¬ ê°€ëŠ¥

ğŸ‘‰ğŸ» ê°€ë…ì„±, ìœ ì§€ë³´ìˆ˜ì„± ë†’ì•„ì§

\- Actionê³¼ ë¡œì§ì´ ë¶„ë¦¬ë¨

ğŸ‘‰ğŸ» ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë‹¨ìˆœíˆ dispatchë§Œ í˜¸ì¶œí•˜ë©´ ë¨

ğŸ‘‰ğŸ» ìƒíƒœ ë³€ê²½ì˜ ì„¸ë¶€ ë¡œì§ì€ Reducerê°€ ì±…ì„ì§

ğŸ‘‰ğŸ» ì»´í¬ë„ŒíŠ¸ê°€ ë” ë‹¨ìˆœí•´ì§

\- ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬ì— ê°•í•¨

ğŸ‘‰ğŸ» ì—¬ëŸ¬ ìƒíƒœê°€ ì„œë¡œ ê´€ë ¨ë˜ì–´ ìˆê±°ë‚˜, ê·œì¹™ì´ ë§ì„ìˆ˜ë¡ Reducerì˜ ì¥ì ì´ ì»¤ì§

\- ë¶ˆë³€ì„±ì„ ê°•ì œí•´ Reactê°€ ë³€í™” ê°ì§€ë¥¼ ì •í™•íˆ ìˆ˜í–‰í•˜ê²Œ í•¨

\=> ReducerëŠ” ë³µì¡í•´ì§„ ìƒíƒœ ê´€ë¦¬ ë¡œì§ì„ í•œ ê³³ì— ëª¨ì•„ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ êµ¬ì¡°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©ë¨

#### **3\. ì‚¬ìš© ë°©ë²•**

\- ë¦¬ë“€ì„œëŠ” ìƒíƒœ ë³€ê²½ ê·œì¹™ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬í•˜ëŠ” í•¨ìˆ˜

\- 3ë‹¨ê³„

ğŸ‘‰ğŸ»Reducer í•¨ìˆ˜ ì •ì˜, useReducerë¡œ ìƒíƒœì™€ dispatch ê°€ì ¸ì˜¤ê¸°, dispatchë¡œ ì•¡ì…˜ ì „ë‹¬í•˜ê¸°

**(1) Reducer í•¨ìˆ˜ ë§Œë“¤ê¸°**

\- ReducerëŠ” í•­ìƒ (state, action) -> newState í˜•íƒœë¡œ ì‘ì„±

ğŸ‘‰ğŸ» state: í˜„ì¬ ìƒíƒœ

ğŸ‘‰ğŸ» action: ì‹¤í–‰í•  ë™ì‘ ì •ë³´ (type í•„ìˆ˜)

ğŸ‘‰ğŸ» newState: ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ ë°˜í™˜í•  ìƒíƒœ

ğŸ‘‰ğŸ» ê¸°ì¡´ stateë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ë©´ ì ˆëŒ€ ì•ˆë¨ (ë¶ˆë³€ì„± ìœ ì§€)

**(2) useReducerë¡œ ìƒíƒœì™€ dispatch ê°€ì ¸ì˜¤ê¸°**

\- useReducerëŠ” ë‘ ê°€ì§€ ê°’ì„ ë°˜í™˜í•¨

ğŸ‘‰ğŸ» state: í˜„ì¬ ìƒíƒœ

ğŸ‘‰ğŸ» dispatch: Reducerì—ê²Œ ì‹¤í–‰í•  ë™ì‘ì„ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜

```
const [state, dispatch] = useReducer(counterReducer, { count: 0 });
```

\- ì—¬ê¸°ì„œ { count: 0 }ì€ ì´ˆê¸° ìƒíƒœ

\- ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ”Â 

ğŸ‘‰ğŸ» state.countë¡œ ìƒíƒœë¥¼ ì½ê³ 

ğŸ‘‰ğŸ» dispatch(...)ë¡œ Reducerì—ê²Œ ëª…ë ¹ì„ ë³´ëƒ„

**(3) dispatchë¡œ ì•¡ì…˜ ì „ë‹¬í•˜ê¸°**

\- ë²„íŠ¼ í´ë¦­ ë“±ì—ì„œ dispatchë¥¼ í˜¸ì¶œí•˜ë©´ Reducerê°€ ì‹¤í–‰ë¨

**(4) dispatchë¡œ ì¶”ê°€ ë°ì´í„° ì „ë‹¬í•˜ê¸° (Payload)**

\- ì•¡ì…˜ì€ ë‹¨ìˆœíˆ typeë§Œ ê°€ì§„ ê°ì²´ê°€ ì•„ë‹˜

\- ì›í•œë‹¤ë©´ ë°ì´í„°ë¥¼ í•¨ê»˜ ì „ë‹¬ ê°€ëŠ¥

\- keyì´ë¦„ì€ ììœ 

ğŸ‘‰ğŸ» payload ëŒ€ì‹  ì›í•˜ëŠ” í‚¤ ì´ë¦„ì„ ì¨ë„ ë¨

ğŸ‘‰ğŸ» Reducerì—ì„œë„ ê·¸ì— ë§ê²Œ ì‚¬ìš©í•˜ë©´ ë¨

\=> ì „ì²´ íë¦„

\- Reducer ì‘ì„±: ìƒíƒœ ë³€ê²½ ê·œì¹™ì„ í•˜ë‚˜ì˜ í•¨ìˆ˜ì— ëª¨ìŒ

\- useReducer ì‚¬ìš©: \[state, dispatch\]ë¥¼ ë°›ì•„ì„œ, stateë¡œ ì½ê³  dispatchë¡œ ë³€ê²½ ìš”ì²­

\- dispatch í˜¸ì¶œ: ì•¡ì…˜ ê°ì²´ ì „ë‹¬ -> Reducer ì‹¤í–‰ -> ìƒˆë¡œìš´ ìƒíƒœ ë°˜í™˜

\=> ReducerëŠ” ìƒíƒœ ë³€ê²½ ê·œì¹™ì„ í•œ ê³³ì— ëª¨ìœ¼ê³ , useReducer + dispatchë¡œ ê·¸ ê·œì¹™ì„ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°

---

### **2ï¸âƒ£Â  Effect**

#### **1\. ì •ì˜**

\- Reactì—ì„œ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë Œë”ë§ëœ ì´í›„, í™”ë©´ ê·¸ë¦¬ê¸° ì™¸ì— ì¶”ê°€ì ìœ¼ë¡œ ì¼ì–´ë‚˜ëŠ” ë™ì‘(ë¶€ìˆ˜ íš¨ê³¼, side effect)ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ê°œë…

\- EffectëŠ” ë³´í†µ useEffectë¼ëŠ” í›…(Hook)ìœ¼ë¡œ ì‚¬ìš©ë¨

\- í™”ë©´ ê·¸ë¦¬ê¸°(render)ì™€ëŠ” ì§ì ‘ì ì¸ ê´€ë ¨ì´ ì—†ì§€ë§Œ, ì»´í¬ë„ŒíŠ¸ê°€ ì¡´ì¬í•˜ëŠ” ë™ì•ˆ í•¨ê»˜ ì¼ì–´ë‚˜ì•¼ í•˜ëŠ” ì¶”ê°€ì ì¸ ë™ì‘

ğŸ‘‰ğŸ» ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°, ë¸Œë¼ìš°ì €ì˜ ì´ë²¤íŠ¸ ë“±ë¡, íƒ€ì´ë¨¸ ì‹¤í–‰ ë“±

\- useEffectëŠ” ì´ëŸ¬í•œ Effectë¥¼ ë‹¤ë£¨ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§ (Effectë¥¼ ì œì–´í•˜ëŠ” ë„êµ¬)

#### **2\. ì‚¬ìš© ì´ìœ **

\- useEffectëŠ” ì»´í¬ë„ŒíŠ¸ê°€ UIë¥¼ ê·¸ë¦¬ëŠ” ê²ƒ ì´ìƒì˜ ì¼ì„ í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” ë„êµ¬

\- ì¦‰, React ë‚´ë¶€ ì„¸ê³„(state, props)ì™€ ì™¸ë¶€ ì„¸ê³„(DOM, ë¸Œë¼ìš°ì € API, ì„œë²„ ìš”ì²­ ë“±)ë¥¼ ì—°ê²°í•¨

**(1) EffectëŠ” ë¶€ìˆ˜ íš¨ê³¼(side-effect)ë¥¼ ì•ˆì „í•˜ê²Œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì¡´ì¬í•¨**

\- ì»´í¬ë„ŒíŠ¸ëŠ” ì›ë˜ ì…ë ¥(state/props) -> ì¶œë ¥(JSX)ë§Œ ë‹´ë‹¹í•˜ëŠ” í™”ë©´ ê·¸ë¦¬ëŠ” í•¨ìˆ˜

\- í•˜ì§€ë§Œ ì‹¤ì œ ì•±ì—ì„œëŠ” ì•„ë˜ì²˜ëŸ¼ UI ì™¸ì˜ ì‘ì—…ì´ ë°˜ë“œì‹œ í•„ìš”í•¨

ğŸ‘‰ğŸ» ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° (API ìš”ì²­)

ğŸ‘‰ğŸ» ìŠ¤í¬ë¡¤/ì°½ í¬ê¸° ì´ë²¤íŠ¸ ê°ì§€

ğŸ‘‰ğŸ» íƒ€ì´ë¨¸(setIntercal/setTimeout) ì‹¤í–‰

ğŸ‘‰ğŸ» localStorageì™€ ë™ê¸°í™”

ğŸ‘‰ğŸ» document.title ì—…ë°ì´íŠ¸ ë“±

\- ì´ëŸ° ì‘ì—…ë“¤ì€ ë Œë”ë§ê³¼ ë¶„ë¦¬ëœ ì™¸ë¶€ íš¨ê³¼ì´ê¸° ë•Œë¬¸ì— Reactê°€ ì˜¬ë°”ë¥¸ ì‹œì ì— ì‹¤í–‰í•˜ê³  í•„ìš”í•˜ë©´ ì •ë¦¬ê¹Œì§€ í•´ì¤˜ì•¼ ì•ˆì „í•¨

ğŸ‘‰ğŸ» ì´ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” ê²ƒì´ useEffect

**(2) ìƒëª…ì£¼ê¸°ì— ë§ì¶˜ ì‹¤í–‰ê³¼ ì •ë¦¬(clean-up)**

\- EffectëŠ” React ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ì— ë”°ë¼ ì•„ë˜ì²˜ëŸ¼ ìë™ìœ¼ë¡œ ë™ì‘í•¨

ğŸ‘‰ğŸ» ë Œë”ë§ì´ ëë‚œ ë’¤ ì‹¤í–‰ë¨ (after paint)

ğŸ‘‰ğŸ» ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œ (Unmount) ì •ë¦¬(clean-up) í•¨ìˆ˜ ìë™ ì‹¤í–‰

\- ì´ êµ¬ì¡° ë•ë¶„ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ, íƒ€ì´ë¨¸, êµ¬ë…ì„ ì•ˆì „í•˜ê²Œ ë“±ë¡/í•´ì œ ê°€ëŠ¥

**(3) ì˜ì¡´ì„± ë°°ì—´ë¡œ ì–¸ì œ ì‹¤í–‰ë ì§€ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì œì–´í•¨**

\- EffectëŠ” ë‘ ë²ˆì§¸ ì¸ì(deps ë°°ì—´)ì— ë”°ë¼ ì‹¤í–‰ ì‹œì ì´ ë‹¬ë¼ì§

ğŸ‘‰ğŸ» \[\] : ìµœì´ˆ 1íšŒë§Œ ì‹¤í–‰ (Mount)

ğŸ‘‰ğŸ» \[value\] : valueê°€ ë³€í•  ë•Œë§Œ ì‹¤í–‰

ğŸ‘‰ğŸ» undefined : ëª¨ë“  ë Œë”ë§ë§ˆë‹¤ ì‹¤í–‰ (ê¶Œì¥ X)

**(4) UI ë Œë”ë§ê³¼ ì™¸ë¶€ ë™ì‘ì„ ë¶„ë¦¬í•´ ì½”ë“œ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ í•¨**

\- UIëŠ” JSXê°€ ë‹´ë‹¹

\- ë¸Œë¼ìš°ì €/í”Œë«í¼ê³¼ì˜ ìƒí˜¸ì‘ìš©ì€ Effectê°€ ë‹´ë‹¹

\- UI ì½”ë“œëŠ” ê¹”ë”í•´ì§€ê³ , ì™¸ë¶€ ì˜í–¥ ì½”ë“œëŠ” Effectì— ëª¨ì—¬ ì˜ˆì¸¡ ê°€ëŠ¥

**(5) ë¹„ë™ê¸° íë¦„ì„ í•œëˆˆì— ê´€ë¦¬ ê°€ëŠ¥**

\- Effect ì•ˆì— ë¡œë”© -> ì„±ê³µ/ì‹¤íŒ¨ ê°™ì€ ìƒíƒœ ì „í™˜ íë¦„ì„ ë‹´ì•„ë‘ë©´ êµ¬ì¡°ê°€ ê¹”ë”í•´ì§

\- ì´ëŸ° êµ¬ì¡°ëŠ” ì‹¤ì œ API ìš”ì²­(fetch/axios) ì½”ë“œì—ì„œ íŠ¹íˆ ê°•ë ¥í•¨

**(6) ë¸Œë¼ìš°ì € ì „ìš©ì½”ë“œ(window/document)ë¥¼ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬ ê°€ëŠ¥**

\- SSR(Server-Side Rendering) í™˜ê²½ì—ì„œëŠ” window, documentê°€ ì¡´ì¬í•˜ì§€ ì•Šì§€ë§Œ, useEffextëŠ” ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì‹¤í–‰ë¨

\- ë¸Œë¼ìš°ì € ê´€ë ¨ ì½”ë“œ(window, document)ëŠ” ë°˜ë“œì‹œ Effext ì•ˆì— ì¨ì•¼í•¨

#### **3\. ì‚¬ìš© ë°©ë²•**

\- useEffectëŠ” "ë¬´ì—‡ì„ í• ì§€"ì™€ "ì–¸ì œ í• ì§€"ë¥¼ í•¨ê»˜ ì„ ì–¸í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ë¶€ìˆ˜íš¨ê³¼ ì‹¤í–‰ê³¼ ì •ë¦¬(clean-up)ë¥¼ ì œì–´í•˜ëŠ” í›…

**(1) ê¸°ë³¸ í˜•íƒœ**

```
useEffect(() => {
  // íš¨ê³¼(effect): ë Œë”ë§ í›„ ì‹¤í–‰ë˜ëŠ” ì‘ì—…

  return () => {
    // ì •ë¦¬(clean-up): ì»´í¬ë„ŒíŠ¸ê°€ ì‚¬ë¼ì§ˆ ë•Œ ì‹¤í–‰
  };
}, [/* ì˜ì¡´ì„± ë°°ì—´ */]);
```

\- ì²« ë²ˆì§¸ ì¸ì: ì‹¤í–‰í•  í•¨ìˆ˜

\- ë‘ ë²ˆì§¸ ì¸ì: ì–¸ì œ ì‹¤í–‰í• ì§€ ê²°ì •í•˜ëŠ” ì˜ì¡´ì„± ë°°ì—´(deps)

\- ë°˜í™˜ê°’: ì»´í¬ë„ŒíŠ¸ Unmount ì‹œ ë˜ëŠ” ë‹¤ìŒ ì‹¤í–‰ ì „ í˜¸ì¶œë˜ëŠ” ì •ë¦¬ í•¨ìˆ˜

**(2) ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰í•˜ê¸° (Mount)**

\- ì˜ì¡´ì„± ë°°ì—´ì„ \[\]ë¡œ ë‘ë©´ ìµœì´ˆ ë Œë”ë§ í›„ í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ê³ , Unmount ë•Œ ì •ë¦¬ í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨

```
useEffect(() => {
  console.log("ë§ˆìš´íŠ¸");
  return () => console.log("ì–¸ë§ˆìš´íŠ¸");
}, []);
```

\- ì´ˆê¸° ë¡œë”© ì‘ì—…, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ ë“±ì— ì´ìš©

**(3) íŠ¹ì • ê°’ì´ ë°”ë€” ë•Œë§Œ ì‹¤í–‰í•˜ê¸°**

\- ì˜ì¡´ì„± ë°°ì—´ì— ê°’ì„ ë„£ìœ¼ë©´ ê·¸ ê°’ì´ ë³€ê²½ë  ë•Œë§Œ ì‹¤í–‰ë¨

```
useEffect(() => {
  document.title = `ì¹´ìš´íŠ¸: ${count}`;
}, [count]);
```

\- ìƒíƒœ/propsì˜ ë³€í™”ì— ë”°ë¼ ì™¸ë¶€ ì‘ì—…ì„ ì—°ê²°í•  ë•Œ ìœ ìš©

**(4) ì˜ì¡´ì„± ë°°ì—´ ê·œì¹™**

\- Effect ë‚´ë¶€ì—ì„œ ì°¸ì¡°í•˜ëŠ” ê°’ì€ ëª¨ë‘ ì˜ì¡´ì„± ë°°ì—´ì— ë„£ì–´ì•¼ í•œë‹¤

ğŸ‘‰ğŸ» state

ğŸ‘‰ğŸ» props

ğŸ‘‰ğŸ» ì™¸ë¶€ì—ì„œ ë°›ì€ í•¨ìˆ˜/ê°ì²´

```
useEffect(() => {
  if (count < 10) setName("Jay");
}, [count]);
```

\- Reactê°€ ì •í™•í•œ ì‹¤í–‰ íƒ€ì´ë°ì„ ì•Œ ìˆ˜ ìˆë„ë¡ ë³´ì¥í•¨

**(5) ì •ë¦¬(clean-up) í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°**

\- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ, íƒ€ì´ë¨¸, ì¸í„°ë²Œ, WebSocket ë“±ì€ ì •ë¦¬ê°€ í•„ìˆ˜

```
useEffect(() => {
  const id = setInterval(() => setNow(new Date()), 1000);

  return () => clearInterval(id); // ì •ë¦¬
}, []);
```

\- ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´

ğŸ‘‰ğŸ» ë©”ëª¨ë¦¬ ëˆ„ìˆ˜, ì¤‘ë³µ ì‹¤í–‰, ë¹„ì •ìƒ ë™ì‘ ë°œìƒ

**(6) ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬í•˜ê¸°**

\- useEffect ì½œë°±ì„ asyncë¡œ ì§ì ‘ ì“°ì§€ ë§ê³  ë‚´ë¶€ì—ì„œ async í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì‹¤í–‰í•¨

```
useEffect(() => {
  let ignore = false;

  const load = async () => {
    const res = await fetch(`/api/users/${id}`).then(r => r.json());
    if (!ignore) setUser(res);
  };

  load();
  return () => { ignore = true }; // ë¹„ë™ê¸° ì‘ë‹µ ë¬´ì‹œ
}, [id]);
```

\- ì–¸ë§ˆìš´íŠ¸ í›„ ë¹„ë™ê¸° ì‘ë‹µì´ ëŒì•„ì™€ë„ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬

**(7) í•˜ë‚˜ì˜ Effectì— ë„ˆë¬´ ë§ì€ ì—­í• ì„ ë„£ì§€ ë§ ê²ƒ**

\- ëª©ì ì´ ë‹¤ë¥¸ ì‘ì—…ì„ í•˜ë‚˜ì˜ Effectì— ëª°ì•„ë„£ìœ¼ë©´ ë¬¸ì œê°€ ìƒê¹€

\- í•œ Effect ì•ˆì— ëª¨ë‘ ë„£ê³  \[count\]ë¥¼ ì˜ì¡´ì„±ìœ¼ë¡œ ì“°ë©´ countê°€ ë°”ë€” ë–„ë§ˆë‹¤ í‚¤ë³´ë“œ ë¦¬ìŠ¤ë„ˆê°€ ê³„ì† ë“±ë¡/í•´ì œë˜ëŠ” ë¶€ì‘ìš©

\- ëª©ì ë³„ë¡œ ë‚˜ëˆ ì•¼ë¨

\=> ì •ë¦¬

\- ì‹¤í–‰: ë Œë”ë§ í›„ ì‹¤í–‰ë¨

\- ì •ë¦¬: ë‹¤ìŒ ì‹¤í–‰ ì „ ë˜ëŠ” ì–¸ë§ˆìš´íŠ¸ ì‹œ ìë™ í˜¸ì¶œ

\- ì˜ì¡´ì„± ë°°ì—´: ì–¸ì œ ì‹¤í–‰í• ì§€ ì„ ì–¸ì ìœ¼ë¡œ ì œì–´

\- ë¹„ë™ê¸° ì œì–´: ë‚´ë¶€ì— async í•¨ìˆ˜ ì •ì˜í•˜ì—¬ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬

\- ì—­í•  ë¶„ë¦¬: ì—¬ëŸ¬ Effectë¡œ ëª©ì ë³„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ë² ìŠ¤íŠ¸

---

### **3ï¸âƒ£Â  Memo**

#### **1\. ì •ì˜**

\- Reactì—ì„œ ê°’/ì»´í¬ë„ŒíŠ¸ ë Œë” ê²°ê³¼ë¥¼ ê¸°ì–µí•´ ë‘ì–´ ë¶ˆí•„ìš”í•œ ì¬ê³„ì‚°, ì¬ë Œë”ë¥¼ ì¤„ì´ëŠ” ìµœì í™” ê°œë…

\- ì¦‰, í•œ ë²ˆ ê³„ì‚°ëœ ê°’ì„ ì €ì¥í•´ ë‘ê³ , ê°™ì€ ì…ë ¥ì´ ì£¼ì–´ì¡Œì„ ë•ŒëŠ” ì €ì¥ëœ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ëŠ” ë°©ì‹ì„ ë§í•¨

#### **2\. ì‚¬ìš© ì´ìœ **

\- React ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ state/props -> UIë¥¼ ê·¸ë¦¬ëŠ” í•¨ìˆ˜

ğŸ‘‰ğŸ» í•˜ì§€ë§Œ ì‹¤ì œ ì•±ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œìƒí•¨

ğŸ‘‰ğŸ» ë³µì¡í•œ ê³„ì‚°ì´ ìì£¼ ì‹¤í–‰ë¨, í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë§ì•„ ë Œë”ë§ ë¹„ìš© ì¦ê°€, ìƒíƒœ ë³€í™”ê°€ ë§ì•„ ë¶ˆí•„ìš”í•œ ì¬ë Œë” ë°œìƒ

ğŸ‘‰ğŸ» ì´ëŸ´ ë•Œ ë©”ëª¨ì´ì œì´ì…˜ì„ ì‚¬ìš©í•´ ë™ì¼í•œ ì…ë ¥ì— ëŒ€í•´ ì—°ì‚°/ë Œë”ë¥¼ ì¬ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì„±ëŠ¥ ìµœì í™”

**\- Memoì˜ ì¥ì **

**(1) ì„±ëŠ¥ ìµœì í™” (useMemo)**

\- ë³µì¡í•œ ê³„ì‚°ì„ ë§¤ ë Œë”ë§ˆë‹¤ ë‹¤ì‹œ ìˆ˜í–‰í•˜ë©´ ë§¤ìš° ë¹„íš¨ìœ¨ì 

\- useMemo: ê³„ì‚° ê²°ê³¼ë¥¼ ìºì‹±í•˜ì—¬ ì˜ì¡´ì„±ì´ ë³€í•  ë•Œë§Œ ë‹¤ì‹œ ê³„ì‚°í•¨

```
const sortedList = useMemo(() => heavySort(items), [items]);
```

\- heavySort(items)ëŠ” ì²˜ìŒ ë Œë” ì‹œ 1ë²ˆ ì‹¤í–‰, ì´í›„ itemsê°€ ë³€í•  ë•Œë§Œ ë‹¤ì‹œ ì‹¤í–‰, ë³€í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©(CPU ë¹„ìš© 0)

ğŸ‘‰ğŸ» ë¬´ê±°ìš´ ì—°ì‚°ì´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ë§¤ìš° ì¤‘ìš”

**(2) ë¶ˆí•„ìš”í•œ ë Œë”ë§ ë°©ì§€ (React.memo)**

\- React.memoëŠ” ì»´í¬ë„ŒíŠ¸ ìì²´ì˜ ë Œë” ê²°ê³¼ë¥¼ ìºì‹±í•¨

```
const Item = React.memo(({ name }) => {
  console.log("ë Œë”:", name);
  return <li>{name}</li>;
});
```

\- propsê°€ ë°”ë€Œì§€ ì•Šì€ ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ì‹œ ë Œë”ë˜ì§€ ì•ŠìŒ

\- ë¦¬ìŠ¤íŠ¸, í…Œì´ë¸”, ë°˜ë³µ ë Œë”ë§ UI ë“±ì—ì„œ ê°•ë ¥í•œ ìµœì í™” íš¨ê³¼

> **â“ ê³ ì°¨ ì»´í¬ë„ŒíŠ¸(HOC)**  
> \- ì»´í¬ë„ŒíŠ¸ë¥¼ ì¸ìë¡œ ë°›ì•„ì„œ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜  
> ex) React.memo(MyComponent)  
> ğŸ‘‰ğŸ» ë©”ëª¨ ë²„ì „ì˜ ìƒˆ ì»´í¬ë„ŒíŠ¸ ìƒì„±

**(3) ì˜ë„ í‘œí˜„ (ì½”ë“œ ê°€ë…ì„± í–¥ìƒ)**

\- useMemoëŠ” ë‹¨ìˆœ ì„±ëŠ¥ ìµœì í™”ë¿ ì•„ë‹ˆë¼ 'ì´ ê³„ì‚°ì€ í•„ìš”í•  ë•Œë§Œ ë‹¤ì‹œ ì‹¤í–‰ë¼ì•¼ í•œë‹¤'ëŠ” ê°œë°œìì˜ ì˜ë„ë¥¼ ëª…í™•íˆ ë“œëŸ¬ëƒ„

#### **3\. ì‚¬ìš© ë°©ë²•**

\- useMemoë¡œ ê°’ ê³„ì‚° ìºì‹±, React.memoë¡œ ì»´í¬ë„ŒíŠ¸ ê²°ê³¼ ìºì‹±, ì˜ì¡´ì„±ìœ¼ë¡œ ê°±ì‹  ì‹œì  ì œì–´

ğŸ‘‰ğŸ» useMemo: ê°’ ê³„ì‚° ë©”ëª¨ì´ì œì´ì…˜

ğŸ‘‰ğŸ» React.memo: ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ë©”ëª¨ì´ì œì´ì…˜

**(1) useMemo - ê³„ì‚° ê²°ê³¼ ìºì‹±**

\- ê¸°ë³¸ ì‚¬ìš© í˜•íƒœ

```
const memoizedValue = useMemo(() => {
  return someHeavyCalculation(input);
}, [input]);
```

ğŸ‘‰ğŸ» ì²« ë²ˆì§¸ ì¸ì: ê³„ì‚°í•  í•¨ìˆ˜

ğŸ‘‰ğŸ» ë‘ ë²ˆì§¸ ì¸ì: ì˜ì¡´ì„± ë°°ì—´ (ê°’ì´ ë³€ê²½ë˜ë©´ ë‹¤ì‹œ ê³„ì‚°)

\- ë¬´ê±°ìš´ ì—°ì‚° ìµœì í™” ì˜ˆì‹œ

```
const expensiveProducts = useMemo(() => {
  return heavyCalculation(products);
}, [products]);
```

ğŸ‘‰ğŸ» productsê°€ ë°”ë€” ë•Œë§Œ heavtCalculation ì‹¤í–‰

ğŸ‘‰ğŸ» keyword ë“± ë‹¤ë¥¸ stateê°€ ë°”ë€Œì–´ë„ ê³„ì‚°ì€ ë‹¤ì‹œ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ

ğŸ‘‰ğŸ» ê¸°ì¡´ ê³„ì‚° ê²°ê³¼ ì¬ì‚¬ìš© -> ì„±ëŠ¥ ìµœì í™”

\- ì°¸ì¡° ì•ˆì •í™” (ê°ì²´/ë°°ì—´ ì¬ìƒì„± ë°©ì§€)

```
const options = useMemo(() => ({ page, pageSize }), [page, pageSize]);
```

ğŸ‘‰ğŸ» ë§¤ ë Œë”ë§ˆë‹¤ { page, pageSize }ê°€ ìƒˆë¡œ ìƒì„±ë˜ì§€ ì•Šë„ë¡ ì°¸ì¡°ë¥¼ ê³ ì •

ğŸ‘‰ğŸ» ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ë¦¬ë Œë”ë§ë˜ëŠ” ê²ƒì„ ë°©ì§€ (React.memoì™€ ê¶í•© ì¢‹ìŒ)

**(2) React.memo (ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ìºì‹±)**

\- ê¸°ë³¸í˜•

```
const MyComponent = React.memo(function MyComponent(props) {
  return <div>{props.value}</div>;
});
```

ğŸ‘‰ğŸ» propsê°€ ì–•ì€ ë¹„êµ ê¸°ì¤€ìœ¼ë¡œ ë™ì¼í•˜ë©´ ë Œë”ë§ì„ ê±´ë„ˆëœ€

> â“ ì–•ì€ ë¹„êµ  
> \- ê°ì²´/ë°°ì—´ì˜ ê°’ì´ ì•„ë‹ˆë¼ ì°¸ì¡°(ì£¼ì†Œ)ë¥¼ ë¹„êµ  
> \- {a:1} === {a:1}  
> â†’ false  
> \- ê°™ì€ êµ¬ì¡°ë¼ë„ ìƒˆë¡œìš´ ê°ì²´ë©´ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ íŒë‹¨

\- ë¦¬ìŠ¤íŠ¸ ìµœì í™” ì˜ˆì‹œ

```
const Item = React.memo(({ name }) => {
  console.log("ë Œë”ë§:", name);
  return <li>{name}</li>;
});
```

ğŸ‘‰ğŸ» ë¦¬ìŠ¤íŠ¸ì—ì„œ ë³€ê²½ëœ í•­ëª©ë§Œ ë‹¤ì‹œ ë Œë”ë¨

\- ì»¤ìŠ¤í…€ ë¹„êµ í•¨ìˆ˜ ì‚¬ìš© ê°€ëŠ¥

```
export default React.memo(Row, (prev, next) => {
  return (
    prev.highlight === next.highlight &&
    prev.data.id === next.data.id &&
    prev.data.version === next.data.version
  );
});
```

ğŸ‘‰ğŸ» propsê°€ ê°ì²´ì—¬ë„ ê°’ ë¹„êµ ë¡œì§ì„ ì§ì ‘ ì •ì˜í•˜ì—¬ ì§„ì§œ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ ë¦¬ë Œë”ë§ í•˜ë„ë¡ ì œì–´ ê°€ëŠ¥

(3) useMemo + useCallback + React.memo ì¡°í•©ì˜ˆì‹œ

\- ì‹¤ë¬´ì—ì„œëŠ” ì´ 3ê°œë¥¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì¼ì´ ë§ìŒ

```
const visible = useMemo(() => {
  const start = (page - 1) * pageSize;
  return items.slice(start, start + pageSize);
}, [items, page, pageSize]);
```

ğŸ‘‰ğŸ» ê°’ ê³„ì‚° ë©”ëª¨

```
const handleSelect = useCallback(id => setSelected(id), []);
```

ğŸ‘‰ğŸ» í•¨ìˆ˜ ì°¸ì¡° ìœ ì§€(useCallback)

```
const Row = React.memo(function Row({ item, onSelect }) {
  return <li onClick={() => onSelect(item.id)}>{item.name}</li>;
});
```

ğŸ‘‰ğŸ» Row ì»´í¬ë„ŒíŠ¸ ì¬ë Œë”ë§ ë°©ì§€

#### **4\. UseMemo ì•ˆì—ì„œë„ 'ìˆœìˆ˜ í•¨ìˆ˜'ë§Œ ì¨ì•¼í•˜ëŠ” ì´ìœ **

\- useMemoì•ˆì—ì„œëŠ” ì‚¬ì´ë“œ ì´í™íŠ¸(ë¶€ìˆ˜ íš¨ê³¼)ë¥¼ ë§Œë“¤ë©´ ì•ˆë¨

ğŸ‘‰ğŸ» setState, API í˜¸ì¶œ, ì´ë²¤íŠ¸ ë“±ë¡, ì½˜ì†” ë¡œê·¸ ë‚¨ë°œ ë“± X

ğŸ‘‰ğŸ» ê³„ì‚°ë§Œ í•˜ê³  ê²°ê³¼ë§Œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì—¬ì•¼ í•¨

#### **5\. Concurrent Renderungì„ ê³ ë ¤í•´ì•¼ í•¨**

\- Concurrent Rendering ëª¨ë“œì—ì„œëŠ” useMemoê°€ â€œí•œ ë²ˆë§Œ ì‹¤í–‰ëœë‹¤â€ëŠ” ë³´ì¥ì´ ì—†ë‹¤.

\- useMemoëŠ” ì˜¤ì§ ê³„ì‚°ë§Œ í•´ì•¼í•˜ê³ , ëª‡ ë²ˆ ì‹¤í–‰ë¼ë„ ë¶€ì‘ìš©ì´ ì—†ì–´ì•¼ í•¨

\- ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ Concurrent Renderingì—ì„œëŠ” ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ìƒíƒœ/ë²„ê·¸ê°€ ìƒê¸¸ ìˆ˜ ìˆìŒ

#### **6\. React Compilerì™€ Memoì˜ ì›ë¦¬**

\- ë©”ëª¨ì´ì œì´ì…˜ì„ ìë™í™”í•´ì£¼ëŠ” ë„êµ¬

\- ì›ë¦¬ë¥¼ ëª¨ë¥´ë©´ ì™œ ê·¸ë ‡ê²Œ ë™ì‘í•˜ëŠ”ì§€ ì´í•´/ë””ë²„ê¹… ë¶ˆê°€ -> ì§ì ‘ ìµœì í™” ì¨ì•¼ í•˜ëŠ” ìƒí™©ë„ ê³„ì† ì¡´ì¬í•  ê²ƒ
