# 🧠 회고
오늘은 첫 번째 딥다이브를 진행하였다.  

- 첫 번째 문제: **"자바의 메모리 영역과 컴파일 과정을 서술하시오"**  
- 처음 해보는 딥다이브라 긴장을 많이 해서 케빈의 질문들에 논리적으로 답변하지 못했다.  
- 너무 얕게 공부한 것 같아 자괴감이 들었다. 😥  
- 내가 아는 것들을 **내 언어로 말하는 연습**을 더 많이 해야겠다고 느꼈다.  
- 특히, **면접 상황을 가정하고 설명하는 연습**이 필요하다.  

---

# 🪽 오늘의 다짐
- 긴장하지 말기  
- 꼬리질문·깊은 질문에 대한 답변 준비하기  
- 남에게 설명할 수 있을 만큼 명확히 이해하기  

---

# 📝 Today I Learned
## 자바의 메모리 영역과 컴파일 과정을 서술하시오

### 1. 메모리 영역
자바의 메모리 영역에는 **메서드 영역, 힙 영역, 스택 영역, PC 레지스터, 네이티브 메서드 스택** 총 5가지가 있다.

#### (1) 메서드 영역
- 애플리케이션 실행에 필요한 **클래스 수준의 핵심 정보**를 저장하는 공간  
- JVM 시작 시 생성 → 클래스 파일이 처음 로드될 때부터 프로그램 종료까지 유지  
- 모든 스레드가 공유  

구체적으로 포함되는 것:
- **런타임 상수 풀**: 클래스 파일에 정의된 상수, 문자열, 메서드 참조 등이 저장되어 중복을 줄이고 메모리 효율성 확보  
- **필드와 메서드 시그니처 정보**: 메서드 이름, 반환 타입, 매개변수 타입 등 클래스 구조 정의 정보  
- **메서드 코드(바이트코드)**: 각 메서드 실행 로직, 예외 처리 정보 포함  
- **생성자 코드**: 객체 초기화 로직을 바이트코드 형태로 저장  

#### (2) 힙 영역 (Heap Area)
- `new` 연산자로 생성되는 **객체, 배열** 같은 참조 타입 데이터 저장  
- 메서드 영역과 함께 모든 스레드가 공유  
- JVM이 자동으로 메모리를 할당하고 가비지 컬렉션으로 관리  
- 객체 멤버 변수도 저장되며, 참조형 멤버 변수는 별도의 힙 공간 주소를 가리킴  
- 힙의 객체는 직접 접근 불가, 반드시 스택의 참조 변수를 통해 접근  

#### (3) 스택 영역 (JVM Stack)
- 메서드 실행 시 사용하는 **임시 저장 공간**  
- 기본형 변수, 메서드 실행 정보 저장  
- 스레드마다 독립적인 스택 생성  
- 메서드 호출 시 스택 프레임 생성 → 종료 시 제거  
- **LIFO 구조** (마지막 호출 메서드가 가장 먼저 종료)  
- 프레임 내부: 매개변수, 지역 변수, 중간 연산 결과, 리턴값  

#### (4) PC 레지스터
- 각 스레드마다 독립적으로 생성  
- 현재 실행 중인 **바이트코드 명령어의 주소** 저장  
- 명령어 실행 후 자동으로 다음 명령어 주소로 갱신  
- 네이티브 메서드 실행 시에는 정의되지 않고 네이티브 메서드 스택이 제어  

#### (5) 네이티브 메서드 스택
- 자바 코드가 아닌 **C, C++, 어셈블리 등 네이티브 코드 실행용** 스택  
- JNI(Java Native Interface)를 통해 호출되는 메서드가 쌓이는 영역  
- 파일 시스템 접근, 하드웨어 제어 등 기능 수행  
- 실행 완료 후 JVM 스택으로 제어 복귀  

---

### 2. 컴파일 과정
1. **컴파일 단계**
   - 개발자가 작성한 `.java` 소스 파일을 `javac` 컴파일러가 바이트코드 `.class` 파일로 변환  

2. **클래스 로딩 & 링킹**
   - JVM 클래스 로더가 `.class` 파일을 메서드 영역에 로드  
   - 링킹 과정:
     - **검증**: 바이트코드가 JVM 명세에 맞는지 검사 (잘못된 코드, 접근 제어 위반, 타입 불일치 차단)  
     - **준비**: static 변수 메모리 확보, 기본값으로 초기화  
     - **해석(Resolution)**: 심볼릭 레퍼런스를 실제 메모리 주소(다이렉트 레퍼런스)로 변환  

3. **초기화 단계**
   - static 변수 초기값 적용  
   - static 블록 실행  

4. **실행 단계**
   - 실행 엔진이 바이트코드를 순차 실행  
   - 자주 실행되는 코드는 JIT 컴파일로 네이티브 코드 변환 → 성능 최적화  
   - 가비지 컬렉션으로 사용하지 않는 객체 정리  

---

# ❓ 받은 질문
1. 힙 영역과 스택 영역에 저장되는 것들과 차이점?  
2. 이렇게 다르게 메모리를 저장하는 이유?  
3. StackOverflowError vs OutOfMemoryError 설명과 차이점?  
