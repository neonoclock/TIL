
## **🧠 회고**

새로운 한 주의 시작 !!!!!!!!!!!ㅜㅜ 

오늘은 지난주에 배웠던 JS내용을 다시 한 번 리마인드 복습하고 자바스크립트 엔진와 런타임 환경에 대하여 학습하였다.

JS 이해는 되는데 왜 이렇게 어렵게 느껴지는 지 모르겠다,, 체화까지 되도록 열심히 해야겠다!

## **🪽 오늘의 다짐**

면접은 같이 일할 사람을 알아가는 과정이라고 생각한다. 대화하면서 신뢰할 수 있는 사람을 뽑는 것.

회사가 최소한의 신뢰를 가질 수 있는 사람이 되기 위해 열심히 기초를 쌓아나가야겠다.

---

## **📝 Today I Learned**

### **1️⃣ 자바스크립트 엔진**

#### **1\. 정의**

\- 자바스크립트 코드를 실행하는 프로그램 또는 인터프리터

\- 우리가 작성한 JS 코드를 컴퓨터가 이해할 수 있는 기계어로 번역하는 역할

> **❓ 인터프리터**  
> \- 코드 한 번 전체 번역하는 것이 아니라 한 줄씩 읽어가며 바로 실행하는 방식  
> \- 동시 통역사  
> \- 수정하고 결과를 바로바로 빠르게 확인 가능

> **❓ 컴파일러**  
> \- 우리가 작성한 코드 전체를 한 번에 기계어로 번역해서 실행 파일을 만들어내는 방식  
> \- 한 번 번역해두면 빠르게 실행

> \=> 자바스크립트 엔진 (구글 V8)은 둘다 사용함  
> \=> JIT 컴파일을 사용함

#### **2\. 사용 이유**

\- 웹페이지에 동적 기능을 제공하고, 사용자와 상호작용 하기 위함

#### **3\. 사용 방법**

\- 웹 페이지 로딩 시 자바스크립트 코드를 처리하고 결과를 반환함

**(1) 생성과 컴파일 단계**

\- 코드가 실행되기 전 변수와 함수를 미리 선언하고, 구조를 분석하여 트리로 구성하는 과정

\- 자바스크립트 엔진이 코드를 처음 읽어 들여 준비하는 과정 (사전 파싱)

> 엔진 구조  
> \- 스택  
> 👉🏻  실행 컨텍스트가 쌓이는 공간 (콜 스택)  
> 👉🏻  함수 호출 → push 함수 종료 → pop  
> 👉🏻 원시값, 실행 컨텍스트 등이 저장됨  
> 👉🏻 매우 빠르게 동작하는 메모리  
> \- 힙  
> 👉🏻객체/배열/함수 같은 동적 메모리 저장 공간  
> 👉🏻크기가 고정되지 않은 데이터가 저장됨  
> 👉🏻렉시컬 환경 객체도 힙에 저장됨

-   토큰화
    -   코드 조각을 의미 단위로 쪼갬
-   구문 분석(파싱) -> AST 생성
    -   토큰을 트리 구조(AST)로 바꿔 코드 구조를 이해함
-   실행 컨텍스트 생성
    -   전역/함수 실행에 필요한 상자 만들기
    -   코드를 실행하기 위해 필요한 모든 정보를 담고 있는 실행 상자
    -   함수가 호출될 떄마다 새 실행 컨텍스트가 콜스택에 push, 끝나면 pop

> **❓ 실행 컨텍스트**  
> \- 엔진이 코드를 실행하기 위해 필요한 모든 정보를 담고 있는 실행 환경  
> \- 환경정보를 하나로 묶어 객체 형태로 관리하는 것  
> \- 실행 환경이 담고 있는 정보   
> 👉🏻 변수 환경: var로 선언된 변수, 함수 선언문이 저장  
> 👉🏻 렉시컬 환경: let, const로 선언된 변수, 외부 스코프 참조 정보가 저장되는 곳  
> 👉🏻 this 바인딩: 현재 실행 컨텍스트의 this가 무엇인지 저장  
> \=> 엔진이 실행 전에 메소드나 값들끼리 참조하는 구조(스코프 구조)를 파악하고 구축하는구나!

> **❓ 스코프**  
> \- 변수를 어디까지 사용할 수 있는지 범위

-   렉시컬 환경(스코프) 결정
    -   선언된 위치 기준으로 변수에 접근 범위가 정해짐 (=렉시컬 스코프)
    -   안쪽에서 바깥으로 찾아가는 스코프 체인이 만들어짐
    -   렉시컬 환경이 부모 스코프를 참조하여 스코프 체인을 형성한다

> **❓ 렉시컬 환경**  
> \- 스코프를 실제로 저장해두는 내부 구조

-   호이스팅
    -   실행 전, 선언들이 스코프 최상단에 등록되는 현상
        -   funcion 선언: 정의까지 올라감 -> 선언 전 호출 OK
        -   var: 선언만 올라가고 값은 undefined로 초기화
        -   let/const: 선언은 올라가지만 초기화 전 구간이 존재 -> TDZ 접근 시 에러

> **❓ TDZ 역할**  
> \- var의 문제점 해결  
> 👉🏻 var는 선언 전 사용해도 undefined → 버그 유발  
> 👉🏻 TDZ는 “아직 쓰면 안 됨”을 명확하게 에러로 알려줌  
> \- const의 불변성 보장  
> 👉🏻 const는 선언과 초기화를 같이 해야함  
> 👉🏻 TDZ가 이를 강제해줌  
> \=> let/const도 호이스팅은 되지만, TDZ 때문에 초기화 전 접근이 불가능하다.

**(2) 실행 단계**

\- 코드의 실제 실행이 이루어지는 단계로, 변수 할당, 함수 호출 등이 수행됨

-   AST를 바탕으로 바이트코드를 만들고 실행
-   변수에 값 할당, 함수 호출 수행
-   식별자 찾을 때 현재 스코프에서 바깥 스코프로 따라 올라가며 탐색 (스코프 체인)

> **❓ 스코프 체인**  
> \- 변수를 찾을 때 실행 컨텍스트의 렉시컬 환경에서 찾고, 없으면 외부 렉시컬 환경으로 따라 올라가는 구조  
> \- 생성 단계에서 이미 렉시컬 환경이 준비되어 있기에 스코프 체인 가능

#### 4\. 자바스크립트 엔진 vs JVM

|   | **자바스크립트 엔진** | **JVM** |
| --- | --- | --- |
| **타입 시스템** | 동적 타입 -> 실행 중 타입 변함 -> 계속 감시 필요 -> 히든 클래스 활용 | 정적 타입 -> 컴파일 시 타입 확정 -> 최적화 매우 쉬움 |
| **JIT 차이** | 바이트 코드 -> Ignition 실행 -> 자주 사용되는 코드만 TurboFan으로 최적화 | 바이트 코드 -> 핫스팟 감지 -> 최적화 JIT |
| **메모리 구조** | 스택 + 힙 구조가 더 단순 | 스택, 힙 외에도 PermGen/Metaspace 등 다양 |
| **가비지 컬렉션** | Mark-and-Sweep 기반   엔진마다 다름 | 세대별 GC (Young, Old) |

---

### **2️⃣ 자바스크립트 런타임 환경**

#### **1\. 정의**

\- 자바스크립트 코드가 실행되는 환경이나 컨텍스트

#### **2\. 사용 이유**

\- 개발자가 환경의 복잡성을 걱정하지 않고, 효율적이고 안정적으로 자바스크립트 애플리케이션을 개발하고 실행할 수 있게 하기 위함

\- 환경의 복잡성

👉🏻 만약 런타임 환경이 없다면, 자바스크립트 코드가 직접 운영체제와 통신해야함

\- 추상화의 효과

👉🏻 복잡성 감소: 개발자가 CPU, OS, 네트워크 레벨을 다룰 필요 없음

👉🏻 안전성 증가: 브라우저, Node.js가 안전한 API만 제공

👉🏻 생산성 향상: 고수준 API 덕분에 빠르게 개발 가능

#### **3\. 사용 방법**

\- 원하는 자바스크립트 런타인 환경을 선택하고,

\- 해당 환경에 맞는 개발 도구와 API를 사용하여 자바스크립트 코드를 작성한 후,

\- 선택한 런타임에서 코드 실행

#### **4\. 자바스크립트 엔진과 자바스크립트 런타임 환경의 차이점**

자바스크립트 엔진은 JS 코드를 파싱하고, 바이트 코드로 변환하고, 최적화해서 실제로 실행하는 핵심 실행기

하지만 엔진만으로는 DOM 조작이나 비동기 처리 같은 기능을 할 수 없기에

브라우저나 Node.js 같은 런타임 환경이 엔진에 Web API, 이벤트 루프, 콜백 큐 같은 다양한 기능을 제공해 실행을 가능하게 만듦

그래서 런타임은 엔진을 포함한 더 큰 개념이며, 엔진 + API + 이벤트 루프까지 묶어서 실제 JS가 동작하는 환경

---

### **3️⃣ Execution Context (실행 컨텍스트)**

#### **1\. 정의**

\- 함수가 호출될 때 생성되는 배경 정보 및 변수, 스코프 정보, 코드가 실행될 때 제공할 한경 정보들을 모아둔 객체

#### **2\. 알아야 하는 이유**

-   엉뚱하게 undefined 나오거나 변수에 접근 안될 때 무지성으로 전역으로 선언하며 안됨
-   대부분 이런 문제는 실행 컨텍스트와 스코프 자체에 대한 이해가 모자라기에 생김
-   원리를 알아야 해결도 할 수 있다
