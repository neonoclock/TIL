## **🧠 회고**

오늘 딥다이브를 준비하였다. 왜 항상 딥다이브날만 되면 떨리는지... 그리고 머릿속에 모호하게 있는 것들을 표현하려니 말이 잘 나오지 않는 것 같다. 더 자세히, 그리고 꼼꼼하게 학습해야겠다고 다시 한 번 더 다짐했다. 파이팅 ㅠㅠ

## **🪽 오늘의 다짐**

1.  열정 다시 끌어올리기
2.  집중안되면 카페라도 가기

---

## **📝 Today I Learned**

> **💡 Stateful 과 Stateless 의 차이에 대해 정리해주세요.**  
> \- HTTP는 Stateless 프로토콜이라고 합니다. Stateless의 의미는 무엇이며, 웹 애플리케이션은 사용자 상태나 세션을 유지하기 위해 어떤 방법들을 사용하나요?

### **1️⃣ 내가 만든 정의**

#### **1\. Stateful**

\- 서버가 클라이언트의 이전 상태를 기억하고, 그 상태를 기반으로 요청을 처리하는 방식

#### **2\. Stateless**

\- 서버가 클라이언트의 이전 상태를 기억하지 않고, 각 요청이 독립적으로 처리되는 방식

> HTTP는 기본적으로 Stateless 프로토콜이라서, 서버는 클라이언트의 이전 요청을 기억하지 않는다.  
> → 웹 애플리케이션에서는 사용자의 상태나 세션을 유지하기 위해 쿠키, 스토리지, 세션 같은 방법으로 사용자 상태를 따로 관리합니다.

#### **3\. 쿠키**

\- 클라이언트 브라우저에 저장되는 작은 데이터로, 서버가 사용자 상태를 식별하기 위해 사용합니다.

#### **4\. 스토리지**

\- 브라우저에서 클라이언트 데이터를 일시적 또는 영구히 저장할 수 있는 공간입니다.

\- 쿠키와 달리 서버로 자동 전송되지 않아 용량도 크고 클라이언트 전용 데이터 저장에 주로 사용됩니다.

#### **5\. 세션**

\- 컴퓨터 프로세스들 사이에서, 서로를 인식한 후 데이터 송수신을 마칠 때까지의 기간의 상태 정보입니다.

---

### **2️⃣ 세부 설명**

#### **1\. 쿠키**

**(1) 발급 주체 기준**

| **퍼스트파티 쿠키** | \- 사용자가 방문한 도메인에서 직접 발급한 쿠키   \- 로그인 세션 유지나 사용자 설정 저장 같은 사이트 기능 유지에 주로 사용   \- 편리한 사용자 경험 지원 |
| --- | --- |
| **서드파티 쿠키** | \- 사용자가 방문한 도메인과 다른 도메인에서 발급한 쿠키   \- 주로 광고 추적이나 리타게팅에 사용됨 → 사용자의 브라우징 행동을 여러 사이트에서 추적 가능   \- 개인화된 광고와 웹 분석 등 다양한 제3자 서비스를 위해 활용 |

**(2) 수명 기준**

| **영속 쿠키** | \- 유효시간이 명시되어 있는 쿠키   \- 만료일(Expires)이나 수명(Max-Age) 옵션이 설정된 쿠키   \- 브라우저를 닫아도 삭제되지 않음   \- 저장 위치: 브라우저 디스크에 저장   \- 용도: 자동 로그인, 사용자 환경 설정 저장 |
| --- | --- |
| **세션 쿠키** | 1\. 서버가 Set-Cookie 헤더로 발급   2\. 브라우저가 저장   3\. 이후 요청 시 Cookie 헤더도 자동 전송   \- 주로 세션 ID나 사용자 설정을 담음   \- 보안을 위해 HttpOnly, Secure, SameSite 옵션을 반드시 설정 |

**(3) 단점**

| **보안 취약점** | 쿠키 값이 클라이언트에 저장되어 도난, 변조 위험이 존재 | HttpOnly, Secure, SameSite 옵션 설정 필수 |
| --- | --- | --- |
| **브라우저 간 공유 불가** | 저장된 브라우저 내에서만 작동함 | \- 세션 ID를 쿠키로 저장   \- 서버에서 사용자 식별 정보 관리 |
| **네트워크 부하 증가** | 같은 사이트 요청마다 항상 쿠키가 HTTP 요청 헤더에 포함되어 전송됨 → 네트워크 트래픽 증가 | \- 스토리지 사용 |

**(4) 보안문제 해결**

| **HttpOnly** | \- 브라우저 JavaScript에서 해당 쿠키에 접근할 수 없습니다.   \- 주로 세션 ID 같은 민감 정보를 보호하기 위해 사용   \- XSS 공격으로 인한 쿠키 탈취를 방어하는 목적 |
| --- | --- |
| **Secure** | \- HTTPS 연결에서만 쿠키를 전송하도록 강제   \- 세션 ID 같은 민감한 정보가 평문 HTTP로 노출되지 않게 해서 네트워크에서 탈취되는 걸 막는 데 사용 |
| **SameSite** | \- 교차 사이트 요청 시 쿠키 전송을 제한해 CSRF 공격을 방어 |

**(5) SameSite 옵션**

| **Strict** | \- 오직 같은 사이트 요청에서만 쿠키 전송 허용하고, 외부 링크/사이트에서 온 요청에는 절대 쿠키 전송 안 함. |
| --- | --- |
| **Lax** | 안전한 방법(GET) 의 요청에는 쿠키 전송 허용 |
| **None** | \- 모든 cross-site 요청에 쿠키 전송 허용.   \- 단, 반드시 Secure와 함께 사용해야 함(HTTPS 전용) |

안전한 Get 요청: 같은 GET 요청을 여러 번 보내도 서버의 자료가 바뀌지 않아야 하는 것 (멱등성)

**(6) XSS 공격**

\- 공격자가 악성 스크립트를 웹페이지에 주입하여, 다른 사용자의 브라우저에서 그 스크립트가 실행되도록 하는 취약점

#### **2\. 스토리지**

**(1) 데이터의 유효 시간**

| **로컬 스토리지** | \- 영구 저장: 웹 브라우저 창을 닫아도 데이터가 영구적으로 저장 |
| --- | --- |
| **세션 스토리지** | \- 탭/세션 단위 저장: 웹 브라우저 창을 닫으면 데이터 삭제 |

**(2) 쿠키와의 비교**

| **쿠키** | **스토리지** |
| --- | --- |
| 서버에 자동 전송되어 세션 관리에 사용 | 서버에 자동 전송되지 않음 |
| 웹 서버에게 웹 브라우저가 매번 전달해야하는 정보의 저장소로, 매 요청마다 서버에 전달해야하는 데이터를 저장 | 웹 브라우저에 저장되는 데이터 저장소로, 사용자에 의해 변경된 옵션 상태 등 필요에 따라 조회가 필요한 정보를 저장 |
| 용량 작음 | 용량이 큼 |
| HttpOnly/Secure 같은 옵션으로 JS 접근을 막을 수 있음 | JS에서 항상 접근 가능(XSS에 취약) |

**(3) 사용 이유, 방법**

| **사용 이유** | 데이터를 안전하게 보관하고, 언제든지 쉽게 찾을 수 있도록 하기 위함 |
| --- | --- |
| **사용 방법** | 데이터를 스토리지에 저장하고, 필요할 때 검색하여 사용 |

#### **3\. 세션**

**(1) 사용 이유**

\- 사용자의 정보를 서버 측에서 관리해 보안을 강화

\- 사용자 별 맞춤형 정보를 제공하기 위함

**(2) 쿠키와의 비교**

|   | **쿠키** | **세션** |
| --- | --- | --- |
| **저장 위치** | 클라이언트(브라우저) | 서버   (세션 ID만 클라이언트 쿠키에 저장) |
| **보안성** | 낮음   (클라이언트에 있으므로 탈취위험 높음) | 상대적으로 높음   (중요 데이터는 서버에 보관) |
| **용량** | 작음 | 서버 용량에 따라 확장 가능 |
| **지속 시간** | 쿠키 속성에 따라 영속 또는 브라우저 종료 시 삭제 | 브라우저를 닫거나, 일정 시간(Timeout) 지나면 만료 |
| **서버 부하** | 적음   (데이터 클라이언트 저장) | 많음   (사용자 수 많아지면 세션 저장 부담) |
| **사용 목적** | 자동 로그인, 사용자 환경 설정, 간단한 상태 | 로그인 상태 유지, 권한 관리, 장바구니 등 보안 필요한 상태 |

→ 쿠키는 클라이언트에 저장돼 서버 부하는 적지만 보안이 취약하고 용량 제한이 있습니다. 반면 세션은 서버에 저장돼 보안은 강하지만 서버 부하가 커질 수 있습니다. 그래서 로그인 같은 보안이 중요한 정보는 세션으로 관리하고, 단순 사용자 설정은 쿠키로 관리하는 식으로 혼합해서 사용합니다.

**(3) 세션 저장 방식**

| **메모리 저장** | 서버의 메모리에 세션 저장 | \- 빠르고 구현 간단   \- 서버 재시작 시 세션 유실, 서버가 여러 대일 때 공유 어려움 |
| --- | --- | --- |
| **파일 시스템 저장** | 서버 디스크(파일)에 세션 저장 | \-서버 재시작해도 유지 가능   \- 디스크 I/O 느림, 서버 여러 대일 때 공유 문제 |
| **데이터베이스 저장** | 세션 정보를 MySQL, PostgrreSQL 같은 관계형 DB에 저장 | \- 안정적, 다중 서버 환경에서도 공유 가능   \- DB 부하, 읽기/쓰기가 많으면 성능 저하 가능 |

---

### **3️⃣ 면접, 어떻게 말하는게 좋을까?**

#### **1\. stateful이란?**

Stateful은 서버가 클라이언트의 상태를 기억하고 요청을 처리하는 방식입니다. 예를 들어 로그인 세션이나 장바구니 같은 정보를 서버가 직접 유지하는 것이 Stateful 방식입니다.

#### **2\. Stateless란?**

Stateless는 서버가 클라이언트의 이전 상태를 저장하지 않고 각 요청을 독립적으로 처리하는 방식입니다. HTTP가 대표적인 Stateless 프로토콜이라, 로그인 같은 상태 유지를 위해 쿠키나 세션을 별도로 사용합니다.

#### **3\. stateful vs Stateless 차이**

Stateful은 서버가 클라이언트 상태를 기억하고 요청을 처리하는 방식이고, Stateless는 각 요청이 독립적으로 처리되는 방식입니다. HTTP는 기본적으로 Stateless라서, 상태 유지를 위해 쿠키, 세션, 스토리지를 사용합니다.

#### **4\. 쿠키란?**

쿠키는 클라이언트 브라우저에 저장되는 작은 데이터로, 서버가 사용자 식별을 위해 사용합니다.

퍼스트파티 쿠키는 방문 사이트에서 발급해 세션 유지에 쓰이고, 서드파티 쿠키는 광고 추적에 쓰여 요즘은 차단되는 추세입니다.

수명에 따라 세션 쿠키와 영속 쿠키가 있습니다.

#### **5\. 스토리지란?**

스토리지는 브라우저에 데이터를 저장하는 공간입니다. LocalStorage는 브라우저를 꺼도 남고, SessionStorage는 탭을 닫으면 사라집니다. 서버로 자동 전송되지 않아 캐시나 설정 저장에 유용하지만, JS에서 항상 접근 가능해서 XSS에 취약합니다.

#### **6\. 세션이란?**

세션은 클라이언트와 서버 간의 상태 정보를 서버에 저장해 사용자 인증 상태를 유지하는 방식입니다. 서버가 세션 ID를 쿠키에 담아 주면, 이후 요청마다 이를 확인해 사용자를 식별합니다.

#### **7\. 쿠키 vs 스토리지**

쿠키는 클라이언트에 저장되지만 서버와 자동으로 전송돼 세션 관리에 적합하고, 스토리지는 서버로 전송되지 않아 캐시나 환경 설정 같은 클라이언트 전용 데이터 저장에 유용합니다. 쿠키는 보안 속성을 통해 보호할 수 있지만 용량이 작고, 스토리지는 용량이 크지만 XSS에 취약하다는 차이가 있습니다.

#### **8\. 쿠키 vs 세션**

쿠키는 클라이언트에 저장돼 서버 부하는 적지만 보안이 취약하고 용량이 작습니다. 세션은 서버에 저장돼 보안은 강하지만 서버 부하가 커질 수 있습니다. 그래서 로그인 같은 보안이 중요한 정보는 세션으로, 언어 설정 같은 단순한 값은 쿠키로 관리하는 식으로 혼합해서 사용합니다.

---

### **4️⃣ 꼬리 질문**

#### **1\. stateful vs Stateless 차이**

-   **왜 HTTP는 Stateless로 설계되었을까요?**
    -   HTTP는 단순성과 확장성을 위해 Stateless로 설계되었습니다. 서버가 상태를 기억하지 않으면 확장과 장애 대응이 쉬워집니다.
-   **Stateless의 단점은 뭘까요?**
    -   요청마다 필요한 정보를 모두 담아야 해서 비효율적일 수 있고, 그래서 세션이나 쿠키 같은 상태 유지 기법이 필요합니다.

#### **2\. 쿠키**

-   **쿠키 보안은 어떻게 강화하나요?**
    -   쿠키에 HttpOnly, Secure, SameSite 옵션을 설정해서 XSS와 CSRF, 스니핑 같은 공격을 방어합니다.
-   **쿠키 단점은?**
    -   쿠키는 용량이 작고 클라이언트에 저장되기 때문에 보안상 취약하며, 모든 요청에 포함돼 네트워크 부하를 증가시킬 수 있습니다.
-   **서드파티 쿠키가 왜 사라지고 있나요?**
    -   서드파티 쿠키는 사용자 추적과 광고 목적으로 쓰여 개인정보 침해 논란이 커졌고, 그래서 최근 브라우저들이 차단 정책을 도입하고 있습니다.

#### **3\. 스토리지**

-   **스토리지에 인증 정보를 저장하면 안되는 이유는?**
    -   스토리지는 JavaScript에서 언제든 접근 가능하기 때문에 XSS 공격에 취약해 민감한 인증 정보를 저장하면 위험합니다.
-   **로컬 스토리지와 세션 스토리지의 차이?**
    -   LocalStorage는 브라우저를 꺼도 남아 영구 저장되고, SessionStorage는 탭을 닫으면 삭제되는 임시 저장소입니다.

#### **4\. 세션**

-   **세션 저장 방식에는 어떤 것이 있나요?**
    -   세션은 메모리, 파일, 데이터베이스, Redis 같은 인메모리 저장소에 저장할 수 있고, 실무에서는 주로 Redis를 사용해 다중 서버 간 공유와 성능을 확보합니다.
-   **세션과 쿠키를 왜 같이 쓰나요?**
    -   세션 ID를 쿠키에 담아 클라이언트를 식별하기 위해서이고, 실제 사용자 정보는 서버 세션에만 저장해 보안을 강화합니다.
-   **세션의 단점은 무엇인가요?**
    -   세션은 서버에 저장되므로 사용자 수가 많아지면 부하가 커지고, 여러 서버 환경에서는 세션 공유를 위한 추가 설계가 필요합니다.

---

## **면접 ㄱㄱ**

-   자세히 알아야 돼
    -   자세히 말해야하고 티키타카가 되어야 해
